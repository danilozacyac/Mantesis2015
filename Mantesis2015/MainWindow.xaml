<Window x:Class="Mantesis2015.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Custom="http://schemas.microsoft.com/winfx/2006/xaml/presentation/ribbon"
        xmlns:igDP="http://infragistics.com/DataPresenter"
        xmlns:igEditors="http://infragistics.com/Editors"
        xmlns:igOutlookBar="http://infragistics.com/OutlookBar"
        xmlns:igRibbon="http://infragistics.com/Ribbon"
        xmlns:local="clr-namespace:Mantesis2015.Classes"
        xmlns:search="clr-namespace:UIControls;assembly=UIControls"
        Title="MainWindow"
        Width="1200"
        Height="900"
        Loaded="Window_Loaded"
        WindowState="Maximized">
    <Window.Resources>
        <local:ConverterBrush x:Key="ValueToBrushConverter" />
        <Style x:Key="MyConvert" TargetType="{x:Type igEditors:XamNumericEditor}">
            <Setter Property="Background" Value="{Binding Path=Value, RelativeSource={RelativeSource Self}, Converter={StaticResource ValueToBrushConverter}}" />
        </Style>
        <Style x:Key="changeForeground" TargetType="{x:Type igDP:CellValuePresenter}">
            <Setter Property="Foreground" Value="blue" />
        </Style>


        <local:ConverterRows x:Key="genderToColorConverter" />

        <Style x:Key="MyConvertRow" TargetType="{x:Type igDP:DataRecordPresenter}">
            <Setter Property="Background">
                <Setter.Value>
                    <SolidColorBrush Opacity="0.3" Color="{Binding Path=Cells[Tatj].Value, Converter={StaticResource genderToColorConverter}}" />
                </Setter.Value>
            </Setter>
        </Style>


    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="150" />
            <RowDefinition Height="*" />
            <RowDefinition Height="35" />
        </Grid.RowDefinitions>

        <igRibbon:XamRibbon Theme="Office2k7Black">

            <igRibbon:RibbonTabItem Header="Mantenimiento">
                <igRibbon:RibbonGroup Caption="General">
                    <igRibbon:ButtonTool Caption="Tesis Nueva"
                                         Id="NewTesis"
                                         LargeImage="Resources/addTesis_128.png"
                                         SmallImage="Resources/addTesis_64.png"
                                         igRibbon:RibbonGroup.MaximumSize="ImageAndTextLarge" />
                    <igRibbon:ButtonTool Caption="Visualizar Tesis"
                                         Id="ViewTesis"
                                         LargeImage="Resources/viewTesis_128.png"
                                         SmallImage="Resources/viewTesis_64.png"
                                         igRibbon:RibbonGroup.MaximumSize="ImageAndTextLarge" />
                    <igRibbon:ButtonTool Caption="Actualizar Tesis"
                                         Id="EditTesis"
                                         LargeImage="Resources/editTesis_128.png"
                                         SmallImage="Resources/editTesis_64.png"
                                         igRibbon:RibbonGroup.MaximumSize="ImageAndTextLarge" />
                    <igRibbon:ButtonTool Caption="Eliminar Tesis"
                                         Id="DelTesis"
                                         IsEnabled="False"
                                         LargeImage="Resources/delTesis_128.png"
                                         SmallImage="Resources/delTesis_64.png"
                                         igRibbon:RibbonGroup.MaximumSize="ImageAndTextLarge" />
                </igRibbon:RibbonGroup>
                <igRibbon:RibbonGroup Caption="Exportar">
                    <igRibbon:ButtonTool Caption="PDF"
                                         Id="PDF"
                                         LargeImage="Resources/pdf_256.png"
                                         SmallImage="Resources/pdf_128.png"
                                         igRibbon:RibbonGroup.MaximumSize="ImageAndTextLarge" />
                    <igRibbon:ButtonTool Caption="Word"
                                         Id="Word"
                                         LargeImage="Resources/word_256.png"
                                         SmallImage="Resources/word_128.png"
                                         igRibbon:RibbonGroup.MaximumSize="ImageAndTextLarge" />
                    <igRibbon:ButtonTool Caption="Excel"
                                         Id="Excel"
                                         LargeImage="Resources/excel_256.png"
                                         SmallImage="Resources/excel_128.png"
                                         igRibbon:RibbonGroup.MaximumSize="ImageAndTextLarge" />
                    <igRibbon:MenuTool x:Name="_Materias"
                                       ButtonType="Segmented"
                                       Caption="Materias SGA"
                                       IsEnabled="True"
                                       SmallImage="Resources/info_256.png">
                        <igRibbon:ToolMenuItem x:Name="RDetallado" Header="Reporte _Detallado" />
                        <igRibbon:ToolMenuItem x:Name="RSDetalle" Header="Reporte _Sin Detalle" />
                        <igRibbon:ToolMenuItem x:Name="RPersonal" Header="Reporte _Personal" />
                        <igRibbon:ToolMenuItem x:Name="RTabla" Header="Reporte en _Tabla" />
                    </igRibbon:MenuTool>

                </igRibbon:RibbonGroup>


            </igRibbon:RibbonTabItem>
            <igRibbon:RibbonTabItem Header="Informe de las Salas" />
            <igRibbon:RibbonTabItem Header="Herramientas administrativas" />
        </igRibbon:XamRibbon>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="300" />
                <ColumnDefinition Width="3*" />
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0">
                <GroupBox Height="150"
                          Margin="35,30,35,0"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Top"
                          Header="Ver IUS">
                    <Grid>
                        <Label Width="150"
                               Height="20"
                               Margin="10,16,10,22"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Top"
                               Content="Núm. de registro:" />
                        <TextBox x:Name="TxtVerIus"
                                 Height="25"
                                 Margin="10,23,10,22"
                                 PreviewTextInput="TxtIus_PreviewTextInput" />
                        <Button Name="BtnVerIus"
                                Width="80"
                                Height="20"
                                Margin="128,82,0,0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top"
                                Click="BtnVerIus_Click"
                                Content="Buscar" />
                    </Grid>
                </GroupBox>
                <GroupBox Height="350"
                          Margin="35,220,35,0"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Top"
                          Header="Selección">
                    <Grid>
                        <Label Margin="10,22,0,0"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Top"
                               Content="Época / Apéndice / Informes" />
                        <ComboBox x:Name="CbEpoca"
                                  Width="198"
                                  Margin="10,43,0,0"
                                  HorizontalAlignment="Left"
                                  VerticalAlignment="Top"
                                  DisplayMemberPath="Descripcion"
                                  FontSize="13"
                                  ItemsSource="{Binding}"
                                  SelectedValuePath="IdDato"
                                  SelectionChanged="CbEpoca_SelectionChanged" />
                        <Label Margin="10,91,0,0"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Top"
                               Content="Tomo / Volumen / Libro / Número " />
                        <ComboBox x:Name="CbxVolumen"
                                  Width="198"
                                  Margin="10,117,0,0"
                                  HorizontalAlignment="Left"
                                  VerticalAlignment="Top"
                                  FontSize="13"
                                  SelectionChanged="CbxVolumen_SelectionChanged" />

                        <RadioButton x:Name="rbtAp17"
                                     Grid.Row="3"
                                     Grid.RowSpan="2"
                                     Grid.ColumnSpan="2"
                                     Height="16"
                                     Margin="15,160,0,0"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Top"
                                     Checked="RadioApendiceChecked"
                                     Content="Apéndice 1917 a 1995"
                                     FontSize="14"
                                     Foreground="Black"
                                     IsEnabled="False"
                                     Tag="1995" />
                        <RadioButton x:Name="rbtAp54"
                                     Grid.Row="4"
                                     Grid.RowSpan="2"
                                     Grid.ColumnSpan="2"
                                     Height="16"
                                     Margin="15,180,0,0"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Top"
                                     Checked="RadioApendiceChecked"
                                     Content="Apéndice 1954 a 1988"
                                     FontSize="14"
                                     Foreground="Black"
                                     IsEnabled="False"
                                     Tag="1988" />
                        <RadioButton x:Name="rbtAp2000"
                                     Grid.Row="5"
                                     Grid.RowSpan="2"
                                     Grid.ColumnSpan="2"
                                     Height="16"
                                     Margin="15,200,0,0"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Top"
                                     Checked="RadioApendiceChecked"
                                     Content="Apéndice 2000"
                                     FontSize="14"
                                     Foreground="Black"
                                     IsEnabled="False"
                                     Tag="2000" />
                        <RadioButton x:Name="rbtAp2001"
                                     Grid.Row="6"
                                     Grid.ColumnSpan="2"
                                     Height="16"
                                     Margin="15,220,0,0"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Top"
                                     Checked="RadioApendiceChecked"
                                     Content="Apéndice 2001"
                                     FontSize="14"
                                     Foreground="Black"
                                     IsEnabled="False"
                                     Tag="2001" />
                        <RadioButton x:Name="rbtAp2002"
                                     Grid.Row="6"
                                     Grid.ColumnSpan="2"
                                     Margin="15,240,0,0"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Top"
                                     Checked="RadioApendiceChecked"
                                     Content="Apéndice 2002"
                                     FontSize="14"
                                     Foreground="Black"
                                     IsEnabled="False"
                                     Tag="2002" />
                        <RadioButton x:Name="rbtAp2011"
                                     Grid.Row="6"
                                     Grid.ColumnSpan="2"
                                     Height="16"
                                     Margin="15,260,0,0"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Top"
                                     Checked="RadioApendiceChecked"
                                     Content="Apéndice 2011"
                                     FontSize="14"
                                     Foreground="Black"
                                     IsEnabled="False"
                                     Tag="2011" />
                    </Grid>
                </GroupBox>
                <Button Width="184"
                        Height="41"
                        Margin="48,609,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Click="Button_Click"
                        Content="Vista Tesis de Prueba" />

            </Grid>
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="50" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>



                <igDP:XamDataGrid x:Name="XamDataGridTesis"
                                  Grid.Row="1"
                                  Height="Auto"
                                  Margin="0,0,0,0"
                                  HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  GroupByAreaLocation="None"
                                  Loaded="XamDataGridTesis_Loaded"
                                  MouseDoubleClick="XamDataGridTesis_MouseDoubleClick"
                                  PreviewMouseDoubleClick="XamDataGridTesis_PreviewMouseDoubleClick"
                                  RecordActivated="XamDataGridTesis_RecordActivated"
                                  Sorting="XamDataGridTesis_Sorting">
                    <igDP:XamDataGrid.FieldSettings>
                        <igDP:FieldSettings AllowEdit="False" CellClickAction="SelectRecord" />
                    </igDP:XamDataGrid.FieldSettings>

                    <igDP:XamDataGrid.Resources>
                        <Style TargetType="{x:Type igDP:DataRecordCellArea}">
                            <Setter Property="BackgroundSelected" Value="#FF757D9D" />
                            <Setter Property="BackgroundActive" Value="#FFC5CED8" />
                        </Style>





                    </igDP:XamDataGrid.Resources>

                    <igDP:XamDataGrid.FieldLayouts>
                        <igDP:FieldLayout>

                            <igDP:FieldLayout.Fields>

                                <igDP:Field Name="ID"
                                            Width="60"
                                            Label=" ID " />
                                <igDP:Field Name="Ius4"
                                            Width="70"
                                            Label="IUS" />
                                <igDP:Field Name="Tesis"
                                            Width="90"
                                            Label="Tesis" />
                                <igDP:Field Name="Rubro"
                                            Width="*"
                                            Label="Rubro">

                                    <igDP:Field.Settings>
                                        <igDP:FieldSettings>
                                            <igDP:FieldSettings.CellValuePresenterStyle>
                                                <Style TargetType="{x:Type igDP:CellValuePresenter}">

                                                    <Setter Property="ToolTip" Value="{Binding RelativeSource={RelativeSource Self}, Path=Value}" />

                                                </Style>
                                            </igDP:FieldSettings.CellValuePresenterStyle>

                                        </igDP:FieldSettings>
                                    </igDP:Field.Settings>


                                </igDP:Field>

                                <igDP:Field Name="Pagina"
                                            Width="70"
                                            Label="Pagina" />
                                <igDP:Field Name="Estado" Label="Estado" />
                                <igDP:Field Name="Tatj" Visibility="Collapsed">
                                    <igDP:Field.Settings>
                                        <igDP:FieldSettings EditorStyle="{StaticResource MyConvert}" />
                                    </igDP:Field.Settings>
                                </igDP:Field>
                                <igDP:Field Name="PaginaNum"
                                            Label="Pagina"
                                            Visibility="Collapsed" />
                                <igDP:Field Name="Volumen"
                                            Label="Volumen"
                                            Visibility="Collapsed" />

                            </igDP:FieldLayout.Fields>
                        </igDP:FieldLayout>
                    </igDP:XamDataGrid.FieldLayouts>
                </igDP:XamDataGrid>
                <Label Margin="20,19,0,0"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Top"
                       Content="IUS:" />
                <TextBox x:Name="TxtIus"
                         Width="120"
                         Height="23"
                         Margin="57,12,0,0"
                         HorizontalAlignment="Left"
                         VerticalAlignment="Top"
                         KeyDown="TxtIus_KeyDown"
                         PreviewTextInput="TxtIus_PreviewTextInput"
                         TextWrapping="Wrap" />
                <Button Name="BtnIusLista"
                        Grid.Row="0"
                        Width="45"
                        Height="23"
                        Margin="182,11,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Click="BtnIusLista_Click"
                        Content="Buscar"
                        FontWeight="Bold" />
                <Label x:Name="LblMaterias"
                       Margin="564,19,0,0"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Top"
                       Content="Materia" />
                <ComboBox x:Name="CbxMaterias"
                          Width="216"
                          Margin="619,13,0,0"
                          HorizontalAlignment="Left"
                          VerticalAlignment="Top"
                          SelectionChanged="CbxMaterias_SelectionChanged" />

                <search:SearchTextBox x:Name="SbxRubroClave"
                                      Grid.Row="0"
                                      Grid.Column="0"
                                      Width="200"
                                      Height="21"
                                      Margin="300,13,0,0"
                                      HorizontalAlignment="Left"
                                      VerticalAlignment="Top"
                                      Search="SearchTextBox_Search" />

            </Grid>
        </Grid>

    </Grid>
</Window>
